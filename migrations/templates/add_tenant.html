{% extends "base.html" %}

{% block content %}

<style>
    /* Prevent form from hiding behind bottom navbar */
    .safe-area {
        padding-bottom: 90px; /* space for bottom nav */
    }

    /* Improve form readability */
    .form-wrapper {
        max-width: 600px;
        margin: auto;
    }
</style>

<div class="container mt-4 safe-area">
    <div class="form-wrapper">

        <h2 class="mb-3">Add Tenant</h2>
        <hr>

        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, msg in messages %}
              <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ msg }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}

        <form method="POST" class="mt-3">
            {{ form.hidden_tag() }}

            <div class="mb-3">
                {{ form.name.label(class="form-label") }}
                {{ form.name(class="form-control") }}
            </div>

            <div class="mb-3">
                {{ form.phone.label(class="form-label") }}
                {{ form.phone(class="form-control") }}
            </div>

            <div class="mb-3">
                {{ form.national_id.label(class="form-label") }}
                {{ form.national_id(class="form-control") }}
            </div>

            <div class="mb-3">
                {{ form.house_no.label(class="form-label") }}
                {{ form.house_no(class="form-control") }}
            </div>

            <div class="mb-3">
                {{ form.monthly_rent.label(class="form-label") }}
                {{ form.monthly_rent(class="form-control") }}
            </div>

            <div class="mb-3">
                {{ form.move_in_date.label(class="form-label") }}
                {{ form.move_in_date(class="form-control") }}
            </div>

            <button type="submit" class="btn btn-success w-100">
                {{ form.submit.label.text }}
            </button>

            <a href="{{ url_for('tenant_list') }}"
               class="btn btn-secondary w-100 mt-2">
                Cancel
            </a>
        </form>

    </div>
</div>

{% endblock %}
